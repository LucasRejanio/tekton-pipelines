apiVersion: tekton.dev/v1beta1
kind: Task
metadata:
  name: build-image
  namespace: tekton-pipelines
spec:
  steps:
    - name: build
      image: docker:dind
      securityContext:
        privileged: true
      workingDir: $(workspaces.repository)
      script: |

        #!/bin/bash

        echo "----------- Gerando imagem da aplicação -----------"
        docker build -t tekton .

  workspaces:
    - name: repository
